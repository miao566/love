<!DOCTYPE html>
<html>
<head>
    <title>Random Card Code</title>
</head>
<body>
    <h1>Random Card Code:</h1>
    <p>{{ cardCode }}</p>

    <script>
        var cardCodes = [
            "cardCode1",
            "cardCode2",
            "cardCode3",
            "1111",
            "2222"
            // 在此处继续添加卡密
        ];

        function getRandomCode() {
            if (sessionStorage.lastSelectedLine) {
                // 从卡密列表中删除上次选择的行
                cardCodes.splice(sessionStorage.lastSelectedLine, 1);
            }

            // 随机选择一行卡密
            var selectedCode = cardCodes[Math.floor(Math.random() * cardCodes.length)].trim();

            // 将本次选择的行数存储在sessionStorage中
            sessionStorage.lastSelectedLine = cardCodes.indexOf(selectedCode);

            // 显示卡密
            document.getElementById("cardCode").innerText = selectedCode;
        }

        getRandomCode();
    </script>
</body>
</html>
